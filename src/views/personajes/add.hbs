<div class="container p-4">
    <div class="row">
        <div class="col-md-4 mx-auto">

            <div class="card">
                <div class="card-body">
                    <form id="personajeForm" action="/personajes/add" method="POST">
                        <div class="form-group">
                            <input type="text" id="nombreInput" name="nombre" class="form-control" placeholder="Nombre" autofocus>
                        </div>
                        <div class="form-group">
                            <select name="genero" class="form-control" autofocus>
                                <option value="Masculino♂">Masculino♂</option>
                                <option value="Femenino♀︎">Femenino♀︎</option>
                                <option value="Otro¿?">Otro¿?</option>
                            </select>
                        </div>
                        <div class="form-group">                            
                            <select name="nombreRaza" class="form-control" autofocus>
                                {{#each queryrazas}}
                                    <option value="{{nombre}}">{{nombre}}</option>
                                {{/each}}
                            </select>
                        </div>
                        <div class="form-group">
                            <select name="nombreClase" class="form-control" autofocus>
                                {{#each queryclases}}
                                    <option value="{{nombre}}">{{nombre}}</option>
                                {{/each}}
                            </select>
                        </div>
                    
                        <div class="form-group">
                            <textarea name="description" rows="3" class="form-control"
                                placeholder="Descripción"></textarea>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-success btn-block">
                                Guardar
                            </button>
                            <button id="aleatorioBtn" class="btn btn-primary btn-block">
                                Aleatorio
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Función para seleccionar una opción aleatoria de un desplegable
        function seleccionarOpcionAleatoria(select) {
            const opciones = select.find('option');
            const indiceAleatorio = Math.floor(Math.random() * opciones.length);
            const opcionAleatoria = opciones.eq(indiceAleatorio).val();
            select.val(opcionAleatoria);
        }

        // Evento click para el botón "Aleatorio"
        $('#aleatorioBtn').click(function(e) {
            e.preventDefault();
            seleccionarOpcionAleatoria($('#personajeForm select[name="genero"]'));
            seleccionarOpcionAleatoria($('#personajeForm select[name="nombreRaza"]'));
            seleccionarOpcionAleatoria($('#personajeForm select[name="nombreClase"]'));
        });

        const nombres = [
        "Aridan", "Bellamy", "Caelan", "Darian", "Elysian", "Fallon", "Galen", "Harlow",
        "Ithil", "Jareth", "Kaelin", "Liora", "Marlowe", "Nyx", "Orion", "Phoenix",
        "Quinnell", "Riven", "Seraph", "Tamsin", "Vesper", "Wren", "Xanthe", "Yarrow",
        "Zephyr", "Aeris", "Briar", "Celest", "Dusk", "Ember", "Farren", "Gryphon",
        "Haven", "Iris", "Jaden", "Kestrel", "Lyric", "Mistral", "Nova", "Onyx",
        "Peregrine", "Quest", "Raven", "Sorrel", "Talon", "Vale", "Willow", "Zenith",
        "Ashen", "Blaze"];

        // Obtén una referencia al botón "Aleatorio"
        const aleatorioBtn = document.getElementById('aleatorioBtn');

        // Agrega el controlador de eventos al botón "Aleatorio"
        aleatorioBtn.addEventListener('click', function() 
        {
            // Selecciona un nombre aleatorio de la lista
            const nombreAleatorio = nombres[Math.floor(Math.random() * nombres.length)];

            // Asigna el nombre aleatorio al campo de entrada de texto
            const nombreInput = document.getElementById('nombreInput');
            nombreInput.value = nombreAleatorio;
        });


    });
</script>